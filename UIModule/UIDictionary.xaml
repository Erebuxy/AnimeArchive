<ResourceDictionary
    x:Class="AnimeArchive.UIModule.UIDictionary"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:global="using:AnimeArchive">

    <global:TimeConverter x:Key="TimeConverter"/>
    <global:RankColorConverter x:Key="RankColorConverter"/>
    <global:SongListConverter x:Key="SongListConverter"/>

    <Style TargetType="TextBox" x:Key="TBStyle">
        <Setter Property="Background" Value="{x:Null}"/>
        <Setter Property="BorderBrush" Value="{x:Null}"/>
        <Setter Property="SelectionHighlightColor" Value="{x:Null}"/>
        <Setter Property="VerticalAlignment" Value="Bottom"/>
        <Setter Property="FontSize" Value="18"/>
        <Setter Property="TextAlignment" Value="Left"/>
        <Setter Property="IsSpellCheckEnabled" Value="False"/>
    </Style>
    
    <Style TargetType="TextBlock" x:Key="TBTextStyle">
        <Setter Property="FontSize" Value="18"/>
        <Setter Property="VerticalAlignment" Value="Bottom"/>
        <Setter Property="Margin" Value="0,0,0,7"/>
    </Style>

    <Style TargetType="AutoSuggestBox" x:Key="TBSuggestStyle">
        <Setter Property="VerticalAlignment" Value="Bottom"/>
        <Setter Property="VerticalContentAlignment" Value="Bottom"/>
        <Setter Property="HorizontalAlignment" Value="Left"/>
        <Setter Property="HorizontalContentAlignment" Value="Left"/>
        <Setter Property="FontSize" Value="18"/>
        <Setter Property="TextBoxStyle" Value="{StaticResource TBStyle}"/>
    </Style>

    <DataTemplate x:Key="AnimeGridItem" x:DataType="global:Anime">
        <StackPanel Orientation="Horizontal" 
                        HorizontalAlignment="Left" VerticalAlignment="Center" 
                        Margin="50,10,50,9" Width="400">
            <Image Source="{x:Bind Flag}" 
                       Height="30" Width="30" HorizontalAlignment="Left"
                       ScrollViewer.VerticalScrollBarVisibility="Disabled" />
            <TextBlock Text="{x:Bind Index}" 
                           HorizontalAlignment="Left" VerticalAlignment="Center"
                           FontSize="24" TextAlignment="Right"
                           Margin="0,0,10,0" MinWidth="50" 
                           ScrollViewer.VerticalScrollBarVisibility="Disabled"/>
            <StackPanel HorizontalAlignment="Left">
                <TextBlock Text="{x:Bind Title}" 
                               FontSize="24" 
                               Margin="0" HorizontalAlignment="Left"/>
                <TextBlock Text="{x:Bind SubTitle}" 
                               FontSize="14" 
                               Margin="0" HorizontalAlignment="Left"/>
            </StackPanel>
        </StackPanel>
    </DataTemplate>

    <DataTemplate x:Key="SeasonItem" x:DataType="global:Season">
        <StackPanel>
            <StackPanel Orientation="Horizontal">
                <TextBox Text="{x:Bind SeasonTitle, Mode=TwoWay}" 
                             Style="{StaticResource TBStyle}"
                             FontSize="24" PlaceholderText="Season Name"
                             MinWidth="300" LostFocus="TrimText" TextWrapping="Wrap"/>
                <TextBlock Text="By "
                               Style="{StaticResource TBTextStyle}"
                               Margin="10,0,0,7"/>
                <AutoSuggestBox x:Name="CompanyTB"
                                Text="{x:Bind Company, Mode=TwoWay}"
                                Style="{StaticResource TBSuggestStyle}"
                                PlaceholderText="Company" MinWidth="150"
                                LostFocus="TrimTextSuggest" TextChanged="CompanyTextChanged"/>
                <CalendarDatePicker Date="{x:Bind Date, Mode=TwoWay, Converter={StaticResource TimeConverter}}" 
                                        Background="{x:Null}" BorderBrush="{x:Null}" Foreground="White" VerticalAlignment="Bottom" 
                                        PlaceholderText="Date" 
                                        DateFormat="{}{month.abbreviated} {day.integer}, {year.full}"/>
            </StackPanel>
            <StackPanel Orientation="Horizontal">
                <TextBox Text="{x:Bind Episode, Mode=TwoWay}"
                         Style="{StaticResource TBStyle}"
                         TextAlignment="Right" Margin="50,0,0,0"/>
                <TextBlock Text=" Episodes + "
                               Style="{StaticResource TBTextStyle}"/>
                <TextBox Text="{x:Bind Extra, Mode=TwoWay}" 
                         Style="{StaticResource TBStyle}"
                         TextAlignment="Right" MinWidth="32"/>
                <TextBlock Text=" Extra"
                               Style="{StaticResource TBTextStyle}"/>
                <TextBox Text="{x:Bind Length, Mode=TwoWay}"
                         Style="{StaticResource TBStyle}"
                         TextAlignment="Right" Margin="50,0,0,0"/>
                <TextBlock Text=" Mins per Episodes x "
                               Style="{StaticResource TBTextStyle}"/>
                <TextBox Text="{x:Bind Time, Mode=TwoWay}"
                         Style="{StaticResource TBStyle}"
                         TextAlignment="Right"  MinWidth="32"/>
                <TextBlock Text=" Times"
                           Style="{StaticResource TBTextStyle}"/>
                <Button Content="Song"
                        Background="{x:Null}" BorderBrush="{x:Null}"
                        VerticalAlignment="Bottom" HorizontalAlignment="Left" 
                        VerticalContentAlignment="Bottom" HorizontalContentAlignment="Left" 
                        FontSize="18" Margin="50,0,0,0">
                    <Button.Flyout>
                        <Flyout Placement="Bottom">
                            <Flyout.FlyoutPresenterStyle>
                                <Style TargetType="FlyoutPresenter">
                                    <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
                                    <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Disabled"/>
                                </Style>
                            </Flyout.FlyoutPresenterStyle>
                            <StackPanel ScrollViewer.VerticalScrollBarVisibility="Disabled">
                                <ListView ItemsSource="{x:Bind Songs}">
                                    <ListView.ItemTemplate>
                                        <DataTemplate x:DataType="global:Song">
                                            <TextBox Text="{x:Bind Name, Mode=TwoWay}"
                                                     Style="{StaticResource TBStyle}"
                                                     HorizontalContentAlignment="Stretch"
                                                     LostFocus="TrimText" MinWidth="200"/>
                                        </DataTemplate>
                                    </ListView.ItemTemplate>
                                </ListView>
                                <StackPanel Orientation="Horizontal">
                                    <AppBarButton Icon="Add" Label="Add" Click="AddSong" IsCompact="True"
                                                  VerticalAlignment="Center" HorizontalAlignment="Center" />
                                    <AppBarButton Icon="Remove" Label="Remove" Click="RemoveSong" IsCompact="True"
                                                  VerticalAlignment="Center" HorizontalAlignment="Center"/>
                                </StackPanel>
                            </StackPanel>
                        </Flyout>
                    </Button.Flyout>
                    
                </Button>
            </StackPanel>
        </StackPanel>
    </DataTemplate>

</ResourceDictionary>
